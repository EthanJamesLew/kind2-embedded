contract A(x: int; b: bool) returns (y: int);
let
   var z: int = x;
   mode m1
   (require z = x;);
tel

contract B(x: int) returns (y: int);
let

  import A(s1) returns (y) as A1;

  var s1: int = x;
  var z: int = x + 1;

 
   mode m2
   (require ::A1::m1;
    require z = x+11;);


    import A(z) returns(y) as A2;

    mode m4
    (requires ::A2::m1;);

    mode m3
    (requires m4;);
tel


node n (x, y, z, w: t) returns (ok: bool; ok2:int);
(*@contract
  import B(x) returns(ok2);
*)
let
  ok = x = A or x = B or x = C;
  --%PROPERTY ok;
  --%PROPERTY x = y or x = z or x = w or y = z or y = w;
tel
type t = enum {A, B, C};
